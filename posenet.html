

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Posenet Data API &mdash; learn-ml  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Arduino Quickstart" href="arduinoquickstart.html" />
    <link rel="prev" title="Face Detection Data API" href="face.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> learn-ml
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">learn_ml</a></li>
<li class="toctree-l1"><a class="reference internal" href="spicommprotocol.html">SPI Communication Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="face.html">Face Detection Data API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Posenet Data API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#posenet-data">Posenet Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#arduino-api">Arduino API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arduinoquickstart.html">Arduino Quickstart</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">learn-ml</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Posenet Data API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/posenet.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="posenet-data-api">
<h1>Posenet Data API<a class="headerlink" href="#posenet-data-api" title="Permalink to this headline">¶</a></h1>
<p>This document describes the format of the Posenet data streamed from the Anything Sensor to the Arduino. Posenet is a neural net that tracks human poses in an image.</p>
<div class="section" id="posenet-data">
<h2>Posenet Data<a class="headerlink" href="#posenet-data" title="Permalink to this headline">¶</a></h2>
<p>When Posenet is running inference, it outputs a Pose object for each person it has detected in the frame. Each Pose object contains 17 Keypoints that represent the pose coordinates of various parts of the body. Each Keypoint contains (x,y) coordinates and a confidence score, which describes how confident the neural net is that it has found that keypoint. The confidence score can be used to filter out any Keypoints that may not be accurate. Here is a list of all Keypoints that are tracked:</p>
<p>Keypoint: (x, y, confidence_score)</p>
<p>0: Nose<br />1: Left Eye<br />2: Right Eye<br />3: Left Ear<br />4: Right Ear<br />5: Left Shoulder<br />6: Right Shoulder<br />7: Left Elbow<br />8: Right Elbow<br />9: Left Wrist<br />10: Right Wrist<br />11: Left Hip<br />12: Right Hip<br />13: Left Knee<br />14: Right Knee<br />15: Left Ankle<br />16: Right Ankle</p>
</div>
<div class="section" id="arduino-api">
<h2>Arduino API<a class="headerlink" href="#arduino-api" title="Permalink to this headline">¶</a></h2>
<p>The Keypoints are sent to the Arduino as a 1-D array. The keypoints are sent as (x, y, confidence_score) in the order listed above. So for example, this would be the code to access the three elements of the “Right Elbow” keypoint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># include &quot;AnythingSensor.h&quot;</span>
<span class="n">AnythingSensor</span> <span class="n">sensor</span> <span class="o">=</span> <span class="n">AnythingSensor</span><span class="p">();</span>

<span class="n">void</span> <span class="n">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Serial</span><span class="o">.</span><span class="n">begin</span> <span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
    <span class="n">sensor</span><span class="o">.</span><span class="n">begin</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">sensor</span><span class="o">.</span><span class="n">read</span><span class="p">();</span>

    <span class="o">//</span> <span class="n">Right</span> <span class="n">Elbow</span> <span class="n">index</span>
    <span class="nb">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>

    <span class="o">//</span> <span class="n">x</span><span class="o">-</span><span class="n">coordinate</span>
    <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span> <span class="o">*</span> <span class="mi">3</span><span class="p">));</span>

    <span class="o">//</span> <span class="n">y</span><span class="o">-</span><span class="n">coordinate</span>
    <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>

    <span class="o">//</span> <span class="n">confidence</span> <span class="n">score</span>
    <span class="n">Serial</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">));</span>
    
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="arduinoquickstart.html" class="btn btn-neutral float-right" title="Arduino Quickstart" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="face.html" class="btn btn-neutral float-left" title="Face Detection Data API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Alexander Barnett, Swapnil Pande, Alexander Stephens

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>